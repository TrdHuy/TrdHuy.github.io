(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function r(e,n,r){return n=a(n),function(e,n){if(n&&("object"==t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(e,i()?Reflect.construct(n,r||[],a(e).constructor):n.apply(e,r))}function o(t){var e="function"==typeof Map?new Map:void 0;return o=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(i())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&c(o,n.prototype),o}(t,arguments,a(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)},o(t)}function i(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(i=function(){return!!t})()}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}var l=function(t){function n(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(t=r(this,n)).host=t.attachShadow({mode:"open"}),document.documentElement.style.setProperty("--spinner-container-width","300px"),document.documentElement.style.setProperty("--spinner-color","#fff");var e=t.host;e.host.style.overflow="clip",e.host.style.display="flex",e.host.style.justifyContent="center",e.host.style.alignItems="center",t.container=document.createElement("div");var o=t.container;o.className="image-container",t.spinerContainer=document.createElement("div"),t.spinerContainer.style.width="var(--spinner-container-width)",t.spinerContainer.style.top="50%",t.spinerContainer.style.display="flex",t.spinerContainer.style.justifyContent="center",t.spinner=document.createElement("div");var i=t.spinner;i.style.border="4px solid rgba(0, 0, 0, 0.2)",i.style.borderLeftColor="var(--spinner-color)",i.style.borderRadius="50%",i.style.width="50px",i.style.height="50px",i.style.zIndex="10",i.style.animation="spin 1s linear infinite",t.img=document.createElement("img");var c=t.img;c.style.maxWidth="100%",c.style.maxHeight="100%",c.style.display="none",t.imgSrc=t.getAttribute("src");var a=t.getAttribute("alt");c.alt=a,c.onload=function(){i.style.display="none",c.style.display="block";var t=c.naturalWidth/c.naturalHeight,n=e.host.clientHeight;0!=n&&(o.style.height="".concat(n,"px"),o.style.width="".concat(n*t,"px"))},c.onerror=function(){i.style.display="none",console.error("Image failed to load")},c.style.display="none",t.spinerContainer.appendChild(i),o.appendChild(t.spinerContainer),o.appendChild(c);var l=document.createElement("style");return l.textContent="@keyframes spin{0%{transform:rotate(0deg);}100% {transform: rotate(360deg);}}",e.append(l,o),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(n,t),o=n,(i=[{key:"connectedCallback",value:function(){var t=this;if(this.closest("hor-image-container")){var e=new IntersectionObserver((function(n){n.forEach((function(n){n.isIntersecting&&(setTimeout((function(){t.img.src=t.imgSrc}),2e3),e.unobserve(t))}))}),{root:null,threshold:.1});e.observe(this)}else this.img.src=this.imgSrc}}])&&e(o.prototype,i),a&&e(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,i,a}(o(HTMLElement));customElements.define("loading-image",l)})();